(this["webpackJsonpsd-0x-project-trybewallet"]=this["webpackJsonpsd-0x-project-trybewallet"]||[]).push([[0],{33:function(e,t,a){e.exports=a(55)},38:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},55:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l),i=a(23),s=(a(38),a(7)),o=a(2),u=a(15),d=a(9),m=a(10),p=a(16),h=a(12),E=a(11),b=a(17),v=a.n(b),f=a(20);a(46);var g=function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).state={email:"",password:"",isDisabled:!0},e.handleChange=e.handleChange.bind(Object(p.a)(e)),e.validateLogin=e.validateLogin.bind(Object(p.a)(e)),e.handleClick=e.handleClick.bind(Object(p.a)(e)),e}return Object(m.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name,r=a.value;this.setState(Object(u.a)({},n,r),(function(){return t.validateLogin()}))}},{key:"validateLogin",value:function(){var e=this.state,t=e.email,a=e.password;/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)&&a.length>=6?this.setState({isDisabled:!1}):this.setState({isDisabled:!0})}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,a=t.addUser,n=t.history;a(this.state.email),n.push("/carteira")}},{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.isDisabled;return r.a.createElement("div",{className:"login"},r.a.createElement("form",null,r.a.createElement("div",{className:"login-title"},r.a.createElement("h3",{className:"login-h3"},"TrybeWallet")),r.a.createElement("input",{"data-testid":"email-input",className:"input-login",id:"email",type:"email",placeholder:"email",value:t,name:"email",onChange:this.handleChange}),r.a.createElement("input",{"data-testid":"password-input",className:"input-login",id:"password",type:"password",placeholder:"senha",value:a,name:"password",onChange:this.handleChange}),r.a.createElement("button",{className:"button-login",type:"submit",disabled:n,onClick:this.handleClick},"Entrar")))}}]),a}(r.a.Component),y=Object(s.b)(null,(function(e){return{addUser:function(t){return e({type:"NEW_ACTION",state:t})}}}))(g),j=(a(47),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.email,a=e.expenses,n=0===a.length?0:a.map((function(e){return e.exchangeRates[e.currency].ask*e.value})).reduce((function(e,t){return Number(e)+Number(t)}),0).toFixed(2);return r.a.createElement("div",{className:"header-container"},r.a.createElement("header",null,r.a.createElement("label",{className:"label-email",htmlFor:"email"},"Email:",r.a.createElement("p",{className:"email",id:"email","data-testid":"email-field"},t)),r.a.createElement("div",{className:"container-total-expenses"},"Despesa total:",r.a.createElement("p",{className:"total-field","data-testid":"total-field",name:"despesa-total"},n)),r.a.createElement("div",{className:"header-currency-field-container"},r.a.createElement("p",{"data-testid":"header-currency-field"},"BRL"))))}}]),a}(r.a.Component)),O=Object(s.b)((function(e){return{email:e.user.email,expenses:e.wallet.expenses}}),null)(j),x=a(21),C=(a(48),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).handleClick=function(t){var a=t.target,n=e.props,r=n.expenses,l=n.dispatch,c=r.filter((function(e){return e.id!==Number(a.id)}));l({type:"DELETE",state:c})},e.handleEdit=function(t){(0,e.props.dispatch)(function(e){return{type:"EDIT",id:e}}(t))},e.state={value:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:"",isValid:!1},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.props.expenses,a=this.state,n=a.value,l=a.currency,c=a.method,i=a.tag,s=a.description,o=a.isValid;return r.a.createElement("div",{className:"table-container"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Descri\xe7\xe3o"),r.a.createElement("th",null,"Tag"),r.a.createElement("th",null,"M\xe9todo de pagamento"),r.a.createElement("th",null,"Valor"),r.a.createElement("th",null,"Moeda"),r.a.createElement("th",null,"C\xe2mbio utilizado"),r.a.createElement("th",null,"Valor convertido"),r.a.createElement("th",null,"Moeda de convers\xe3o"),r.a.createElement("th",null,"Editar/Excluir"))),r.a.createElement("tbody",null,o?r.a.createElement("tr",null,r.a.createElement("td",null,s),r.a.createElement("td",null,i),r.a.createElement("td",null,c),r.a.createElement("td",null,n),r.a.createElement("td",null,l)):t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.tag),r.a.createElement("td",null,t.method),r.a.createElement("td",null,Number(t.value).toFixed(2)),r.a.createElement("td",null,t.exchangeRates[t.currency].name),r.a.createElement("td",null,Number(t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,Number(t.value*t.exchangeRates[t.currency].ask).toFixed(2)),r.a.createElement("td",null,"Real"),r.a.createElement("td",null,r.a.createElement("button",{"data-testid":"edit-btn",type:"button",id:t.id,onClick:function(){return e.handleEdit(t.id)}},"Editar"),r.a.createElement("button",{"data-testid":"delete-btn",type:"reset",id:t.id,onClick:e.handleClick},"Excluir")))})))))}}]),a}(r.a.Component)),N=Object(s.b)((function(e){return{expenses:e.wallet.expenses}}))(C),k=(a(49),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){var e;return Object(d.a)(this,a),(e=t.call(this)).onInputChange=function(t){var a=t.target,n=a.id,r=a.value;e.setState(Object(u.a)({},n,r))},e.handleClick=Object(f.a)(v.a.mark((function t(){var a,n,r,l,c,i,s,o,u,d,m,p;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://economia.awesomeapi.com.br/json/all");case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,r=e.state,l=r.value,c=r.currency,i=r.method,s=r.tag,o=r.description,u=e.props,d=u.expense,m=u.expenses,p={id:m.length,value:l,currency:c,method:i,tag:s,description:o,exchangeRates:n},d(p),e.setState({value:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""});case 11:case"end":return t.stop()}}),t)}))),e.editClick=function(t){t.preventDefault();var a=e.props,n=a.expenses,r=a.editId,l=a.update,c=e.state,i=c.value,s=c.currency,o=c.method,u=c.tag,d=c.description,m=Object(x.a)(n),p=m[Number(r)];p.value=i,p.description=d,p.currency=s,p.method=o,p.tag=u,l(m),e.setState({value:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""})},e.state={value:"",currency:"USD",method:"Dinheiro",tag:"Alimenta\xe7\xe3o",description:""},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currencies,a=e.buttonExpenses,n=this.state,l=n.value,c=n.currency,i=n.method,s=n.tag,o=n.description;return r.a.createElement("div",{className:"expenses-form-container"},r.a.createElement("form",{className:"expenses-form"},r.a.createElement("label",{className:"label-value",htmlFor:"value"},"Valor:",r.a.createElement("input",{className:"value-input","data-testid":"value-input",id:"value",type:"number",value:l,onChange:this.onInputChange})),r.a.createElement("label",{className:"label-value",htmlFor:"currency"},"Moeda:",r.a.createElement("select",{className:"currency-input","data-testid":"currency-input",id:"currency",value:c,onChange:this.onInputChange},t.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("label",{className:"label-value",htmlFor:"method"},"Pagamento:",r.a.createElement("select",{className:"method-input","data-testid":"method-input",id:"method",value:i,onChange:this.onInputChange},r.a.createElement("option",{value:"Dinheiro"},"Dinheiro"),r.a.createElement("option",{value:"Cart\xe3o de cr\xe9dito"},"Cart\xe3o de cr\xe9dito"),r.a.createElement("option",{value:"Cart\xe3o de d\xe9bito"},"Cart\xe3o de d\xe9bito"))),r.a.createElement("label",{className:"label-value",htmlFor:"tag"},"Categoria:",r.a.createElement("select",{className:"tag-input","data-testid":"tag-input",id:"tag",value:s,onChange:this.onInputChange},r.a.createElement("option",{value:"Alimenta\xe7\xe3o"},"Alimenta\xe7\xe3o"),r.a.createElement("option",{value:"Lazer"},"Lazer"),r.a.createElement("option",{value:"Trabalho"},"Trabalho"),r.a.createElement("option",{value:"Transporte"},"Transporte"),r.a.createElement("option",{value:"Sa\xfade"},"Sa\xfade"))),r.a.createElement("label",{className:"label-value",htmlFor:"description"},"Descri\xe7\xe3o:",r.a.createElement("input",{className:"description-input","data-testid":"description-input",id:"description",type:"text",value:o,onChange:this.onInputChange})),a?r.a.createElement("button",{className:"button-add-edit",type:"button",onClick:this.handleClick},"Adicionar despesa"):r.a.createElement("button",{className:"button-add-edit",type:"button",onClick:this.editClick},"Editar despesa")),r.a.createElement(N,null))}}]),a}(r.a.Component)),w=Object(s.b)((function(e){return{currencies:e.wallet.currencies,expenses:e.wallet.expenses,buttonExpenses:e.wallet.buttonExpenses,editId:e.wallet.editId}}),(function(e){return{expense:function(t){return e({type:"NEW_EXPENSES",state:t})},update:function(t){return e({type:"UPDATE_INFOS",state:t})}}}))(k),D=(a(50),function(e){Object(h.a)(a,e);var t=Object(E.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.currencies)()}},{key:"render",value:function(){return r.a.createElement("div",{className:"wallet"},r.a.createElement(O,null),r.a.createElement(w,null))}}]),a}(r.a.Component)),S=Object(s.b)(null,(function(e){return{currencies:function(){return e(function(){var e=Object(f.a)(v.a.mark((function e(t){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://economia.awesomeapi.com.br/json/all");case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,r=Object.keys(n).filter((function(e){return"USDT"!==e})),t({type:"GET_CURRENCIES",state:r}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}}}))(D);a(51);var I=function(){return r.a.createElement("div",null,r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:y}),r.a.createElement(o.a,{path:"/carteira",component:S})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=a(13),F=a(31),R=a(32),A=a(4),U={email:""};var L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NEW_ACTION":return Object(A.a)(Object(A.a)({},e),{},{email:t.state});default:return e}},W={currencies:[],expenses:[],buttonExpenses:!0,editId:0};var _=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENCIES":return Object(A.a)(Object(A.a)({},e),{},{currencies:t.state});case"NEW_EXPENSES":return Object(A.a)(Object(A.a)({},e),{},{expenses:[].concat(Object(x.a)(e.expenses),[t.state])});case"DELETE":return Object(A.a)(Object(A.a)({},e),{},{expenses:t.state});case"EDIT":return Object(A.a)(Object(A.a)({},e),{},{buttonExpenses:!1,editId:t.id});case"UPDATE_INFOS":return Object(A.a)(Object(A.a)({},e),{},{buttonExpenses:!0,expenses:t.state});default:return e}},M=Object(T.combineReducers)({user:L,wallet:_}),P=Object(T.createStore)(M,Object(F.composeWithDevTools)(Object(T.applyMiddleware)(R.a)));c.a.render(r.a.createElement(i.a,null,r.a.createElement(s.a,{store:P},r.a.createElement(I,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.2da6f9e0.chunk.js.map